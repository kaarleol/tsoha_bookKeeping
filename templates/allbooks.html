<a href="/">Aloitussivu </a> | <a href="/newbook">Lisää yleinen kirja</a> |  <a href="/allbooks">Selaa kirjoja</a> | <a href="/newfavorite">Suosikit</a> | <a href="/newfuture">Lukulista</a><hr>
<hr>
<p>
Kirjojen määrä: {{ count }}
<hr>
{% for book in books %}
<i>ID:</i> {{ book[0] }}
<p>
<i>Otsikko:</i> {{ book[1] }}
<p>
<i>Kirjailija:</i> {{ book[2] }}
<p>
<i>Julkaisupäivä:</i> {{ book[3] }}
<p>
<i>Genre:</i> {{ book[4] }}
<p>
<i>Kirjan lisääjä:</i> {{ book[5] }}
<p>

<button id="open-form-button" onclick="openForm()">Merkkaa luetuksi</button>

<div id="reviewform" style="display: none;">
    <form action="/addreview" method="post">
        Lisää kirja: <br>
        <input type="hidden" name="book_id" value="{{ book[0] }}">
        <p>
        Kirjan vaihe:
        <select name="read_status">
        {% for option in dropdown_options %}
          <option  value="{{ option }}">{{ option }}</option>
        {% endfor %}
        </select>
        <p>
        Arvosana (1-10):
        <textarea name="rating" rows="1" cols="40"></textarea>
        <p>
        Arvostelu:
        <p>
        <textarea name="review" rows="3" cols="40"></textarea>
        <br>
    
        <input type="submit" value="Lähetä">
    </form>
</div>

<p>
    <form action="/deletebook" method="post">
        <input type="hidden" name="book_id" value="{{ book[0] }}">
        <input type="submit" value="Poista">
    </form>
    <form action="/addfavorite" method="post">
        <input type="hidden" name="book_id" value="{{ book[0] }}">
        <input type="submit" value="Merkkaa suosikiksi">
    </form>
    <form action="/addfuture" method="post">
        <input type="hidden" name="book_id" value="{{ book[0] }}">
        <input type="submit" value="Lisää lukulistalle">   
    </form>
<hr>
{% endfor %}
{% if session.user_id %}
Olet kirjautunut sisään.
<a href="/logout">Kirjaudu ulos</a>
{% else %}
<a href="/login">Kirjaudu sisään</a>
{% endif %}

<script>
    function openForm() {
      var formDiv = document.getElementById("reviewform");
      formDiv.style.display = "block";
    }
 </script>